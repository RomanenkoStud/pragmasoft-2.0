---
import { findSectionBySlug } from '~/utils/section';
import ProjectSection from './ProjectSection.astro';
import AboutSection from './AboutSection.astro';
import TeamSection from './TeamSection.astro';
import HeroSection from './HeroSection.astro';
import TextSection from './TextSection.astro';

type Props = {
  id?: string;
  name: string,
}

const {
  id,
  name,
} = Astro.props;

const section = await findSectionBySlug(Astro.currentLocale + '/' + name);
---

{
  section.type === 'projects' 
    ? <ProjectSection id={id} section={section}/>
    : section.type === 'about'
      ? <AboutSection id={id} section={section}/> 
      : section.type === 'team'
        ? <TeamSection id={id} section={section}/> 
        : section.type === 'hero'
          ? <HeroSection id={id} section={section}/> 
          : section.type === 'text'
            ? <TextSection id={id} section={section}/> 
            : <Fragment/>
}
